
<!doctype html>
<html lang="id" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://biqdev.com/tutorial/flutter/crud-rest-api/create/">
      
      
        <meta name="author" content="bayu@biqdev.com">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.6">
    
    
      
        <title>(C)reate - Flutter training</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6910b76c.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.196e0c26.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#create" class="md-skip">
          Lewati ke isi
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://biqdev.com/tutorial/flutter" title="Flutter training" class="md-header-nav__button md-logo" aria-label="Flutter training">
      
  <img src="../../assets/images/biq-logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Flutter training
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              (C)reate
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Cari" placeholder="Cari" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://biqdev.com/tutorial/flutter" title="Flutter training" class="md-nav__button md-logo" aria-label="Flutter training">
      
  <img src="../../assets/images/biq-logo.png" alt="logo">

    </a>
    Flutter training
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Welcome
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    <label class="md-nav__link" for="nav-2">
      CRUD REST API
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="CRUD REST API" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        CRUD REST API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../overview/" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../grid-setup/" class="md-nav__link">
      Grid Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../provider/" class="md-nav__link">
      Provider
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../provider-setup/" class="md-nav__link">
      Provider setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../booklist-mockup/" class="md-nav__link">
      Booklist mockup
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        (C)reate
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      (C)reate
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Daftar isi">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Daftar isi
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mulai-dari-provider" class="md-nav__link">
    Mulai dari "Provider"
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ui-user-interface" class="md-nav__link">
    UI ( User interface )
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jahit-create-rest-api" class="md-nav__link">
    "Jahit" (C)reate REST API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-input" class="md-nav__link">
    Test input
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../read/" class="md-nav__link">
      (R)ead
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../create-then-read/" class="md-nav__link">
      (C)eate kemudian (R)ead
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../update/" class="md-nav__link">
      (U)pdate
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Daftar isi">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Daftar isi
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mulai-dari-provider" class="md-nav__link">
    Mulai dari "Provider"
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ui-user-interface" class="md-nav__link">
    UI ( User interface )
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jahit-create-rest-api" class="md-nav__link">
    "Jahit" (C)reate REST API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-input" class="md-nav__link">
    Test input
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="create">(C)reate</h1>
<p>Meskipun tidak harus selalu memulai dengan (C)reate sesuai urutan dari singkatan CRUD. Dan sepertinya tidak begitu banyak yang menekankan harus (C)reate dahulu, kali ini kita mulai saja sesuai dengan urutan yaitu (C)reate.</p>
<h2 id="mulai-dari-provider">Mulai dari "Provider"</h2>
<p>Untuk fungsi CRUD, termasuk (C)reate, akan bertempat di <strong>provider</strong>. Untuk itu, mari kita buka file <code>lib/providers/booklist_provider.dart</code>. Ubah/tambah sesuai dengan baris yang ter-<em>highlight</em> berikut:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">import</span> <span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>
<span class="hll"><span class="k">import</span> <span class="s1">&#39;dart:convert&#39;</span><span class="p">;</span>
</span><span class="hll"><span class="k">import</span> <span class="s1">&#39;package:path/path.dart&#39;</span> <span class="k">as</span> <span class="n">path</span><span class="p">;</span>
</span><span class="hll"><span class="k">import</span> <span class="s1">&#39;package:http_parser/http_parser.dart&#39;</span><span class="p">;</span>
</span><span class="hll"><span class="k">import</span> <span class="s1">&#39;package:http/http.dart&#39;</span> <span class="k">as</span> <span class="n">http</span><span class="p">;</span>
</span><span class="hll"><span class="k">import</span> <span class="s1">&#39;package:mime/mime.dart&#39;</span><span class="p">;</span>
</span><span class="hll"><span class="k">import</span> <span class="s1">&#39;package:provider/provider.dart&#39;</span><span class="p">;</span>
</span>
<span class="k">import</span> <span class="s1">&#39;package:perpus/models/booklist_model.dart&#39;</span><span class="p">;</span>
<span class="hll"><span class="k">import</span> <span class="s1">&#39;package:perpus/providers/setting_provider.dart&#39;</span><span class="p">;</span>
</span>
<span class="kd">class</span> <span class="nc">BookListProvider</span> <span class="kd">with</span> <span class="n">ChangeNotifier</span> <span class="p">{</span>
  <span class="c1">// _list ini adalah model utama dari daftar buku kita</span>
  <span class="c1">// akan digunakan untuk menampilkan daftar buku</span>
  <span class="c1">// yang didapat dari REST API</span>
  <span class="n">List</span><span class="o">&lt;</span><span class="n">BookListModel</span><span class="o">&gt;</span> <span class="n">_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1">// Kita buat dummy data atau data palsu</span>
    <span class="c1">// hanya untuk tujuan mockup dulu</span>
    <span class="n">BookListModel</span><span class="p">(</span>
      <span class="nl">id:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
      <span class="nl">title:</span> <span class="s2">&quot;Judul 1&quot;</span><span class="p">,</span>
      <span class="nl">imagePath:</span> <span class="s2">&quot;assets/book.png&quot;</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">BookListModel</span><span class="p">(</span>
      <span class="nl">id:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
      <span class="nl">title:</span> <span class="s2">&quot;Judul 2&quot;</span><span class="p">,</span>
      <span class="nl">imagePath:</span> <span class="s2">&quot;assets/book.png&quot;</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">BookListModel</span><span class="p">(</span>
      <span class="nl">id:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span>
      <span class="nl">title:</span> <span class="s2">&quot;Judul 3&quot;</span><span class="p">,</span>
      <span class="nl">imagePath:</span> <span class="s2">&quot;assets/book.png&quot;</span><span class="p">,</span>
    <span class="p">),</span>
  <span class="p">];</span>

  <span class="n">List</span><span class="o">&lt;</span><span class="n">BookListModel</span><span class="o">&gt;</span> <span class="kd">get</span> <span class="n">list</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[...</span><span class="k">this</span><span class="p">.</span><span class="n">_list</span><span class="p">];</span>
  <span class="p">}</span>
<span class="hll">
</span><span class="hll">  <span class="kt">bool</span> <span class="n">_isCreating</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class="hll">  <span class="kt">bool</span> <span class="kd">get</span> <span class="n">isCreating</span> <span class="p">{</span>
</span><span class="hll">    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="n">_isCreating</span><span class="p">;</span>
</span><span class="hll">  <span class="p">}</span>
</span><span class="hll">
</span><span class="hll">  <span class="n">Future</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">dynamic</span><span class="o">&gt;&gt;</span> <span class="n">create</span><span class="p">(</span>
</span><span class="hll">      <span class="n">BuildContext</span> <span class="n">context</span><span class="p">,</span> <span class="n">BookListModel</span> <span class="n">data</span><span class="p">)</span> <span class="kd">async</span> <span class="p">{</span>
</span><span class="hll">    <span class="k">this</span><span class="p">.</span><span class="n">_isCreating</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class="hll">    <span class="n">notifyListeners</span><span class="p">();</span>
</span><span class="hll">    <span class="kd">final</span> <span class="n">settingData</span> <span class="o">=</span> <span class="n">Provider</span><span class="p">.</span><span class="n">of</span><span class="o">&lt;</span><span class="n">SettingProvider</span><span class="o">&gt;</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="nl">listen:</span> <span class="kc">false</span><span class="p">);</span>
</span><span class="hll">    <span class="c1">// Validasi data jika mungkin kosong atau null</span>
</span><span class="hll">    <span class="k">if</span> <span class="p">(</span><span class="n">data</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">data</span><span class="p">.</span><span class="n">title</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">      <span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">dynamic</span><span class="o">&gt;</span> <span class="n">resInvalid</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">dynamic</span><span class="o">&gt;</span><span class="p">();</span>
</span><span class="hll">      <span class="n">resInvalid</span><span class="p">[</span><span class="s2">&quot;statusCode&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="m">400</span><span class="p">;</span>
</span><span class="hll">      <span class="n">resInvalid</span><span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Input is not valid&quot;</span><span class="p">;</span>
</span><span class="hll">      <span class="k">this</span><span class="p">.</span><span class="n">_isCreating</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class="hll">      <span class="n">notifyListeners</span><span class="p">();</span>
</span><span class="hll">      <span class="k">return</span> <span class="n">resInvalid</span><span class="p">;</span>
</span><span class="hll">    <span class="p">}</span>
</span><span class="hll">
</span><span class="hll">    <span class="c1">// Membaca data gambar/image untuk diupload</span>
</span><span class="hll">    <span class="n">List</span> <span class="n">mimeStr</span> <span class="o">=</span> <span class="n">lookupMimeType</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">imageFile</span><span class="p">.</span><span class="n">path</span><span class="p">).</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">);</span>
</span><span class="hll">    <span class="kd">var</span> <span class="n">imageBytes</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">data</span><span class="p">.</span><span class="n">imageFile</span><span class="p">.</span><span class="n">readAsBytes</span><span class="p">();</span>
</span><span class="hll">
</span><span class="hll">    <span class="kd">var</span> <span class="n">uri</span> <span class="o">=</span> <span class="n">Uri</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span>
</span><span class="hll">        <span class="s1">&#39;</span><span class="si">${</span><span class="n">settingData</span><span class="p">.</span><span class="n">setting</span><span class="p">.</span><span class="n">apiHost</span><span class="si">}</span><span class="s1">/perpus-api/booklist/</span><span class="si">${</span><span class="n">settingData</span><span class="p">.</span><span class="n">setting</span><span class="p">.</span><span class="n">userName</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
</span><span class="hll">    <span class="c1">// Request HTTP dengan POST verb</span>
</span><span class="hll">    <span class="kd">var</span> <span class="n">request</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">MultipartRequest</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="n">uri</span><span class="p">)</span>
</span><span class="hll">      <span class="p">..</span><span class="n">fields</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">title</span>
</span><span class="hll">      <span class="p">..</span><span class="n">files</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">http</span><span class="p">.</span><span class="n">MultipartFile</span><span class="p">.</span><span class="n">fromBytes</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="n">imageBytes</span><span class="p">,</span>
</span><span class="hll">          <span class="nl">filename:</span> <span class="n">path</span><span class="p">.</span><span class="n">basename</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">imageFile</span><span class="p">.</span><span class="n">path</span><span class="p">),</span>
</span><span class="hll">          <span class="nl">contentType:</span> <span class="n">MediaType</span><span class="p">(</span><span class="n">mimeStr</span><span class="p">[</span><span class="m">0</span><span class="p">],</span> <span class="n">mimeStr</span><span class="p">[</span><span class="m">1</span><span class="p">])));</span>
</span><span class="hll">    <span class="kt">int</span> <span class="n">statusCode</span><span class="p">;</span>
</span><span class="hll">    <span class="k">try</span> <span class="p">{</span>
</span><span class="hll">      <span class="c1">// Gunakan blok &quot;try&quot; karena ada kemungkinan error yang tidak kita ketahui saat ini dari fungsu json.decode()</span>
</span><span class="hll">      <span class="n">http</span><span class="p">.</span><span class="n">StreamedResponse</span> <span class="n">res</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">request</span><span class="p">.</span><span class="n">send</span><span class="p">();</span>
</span><span class="hll">      <span class="n">statusCode</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">statusCode</span><span class="p">;</span>
</span><span class="hll">      <span class="kd">final</span> <span class="kt">String</span> <span class="n">respStr</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">res</span><span class="p">.</span><span class="n">stream</span><span class="p">.</span><span class="n">bytesToString</span><span class="p">();</span>
</span><span class="hll">      <span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">dynamic</span><span class="o">&gt;</span> <span class="n">resDecoded</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">respStr</span><span class="p">);</span> <span class="c1">// Decode JSON</span>
</span><span class="hll">      <span class="n">resDecoded</span><span class="p">[</span><span class="s2">&quot;statusCode&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">statusCode</span><span class="p">;</span>
</span><span class="hll">      <span class="k">this</span><span class="p">.</span><span class="n">_isCreating</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class="hll">      <span class="n">notifyListeners</span><span class="p">();</span> <span class="c1">//Prosedur standard untuk memberitahu &quot;listener&quot; bahwa ada perubahan</span>
</span><span class="hll">      <span class="k">return</span> <span class="n">resDecoded</span><span class="p">;</span>
</span><span class="hll">    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">      <span class="c1">// Jika terjadi error</span>
</span><span class="hll">      <span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">dynamic</span><span class="o">&gt;</span> <span class="n">resInvalid</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">dynamic</span><span class="o">&gt;</span><span class="p">();</span>
</span><span class="hll">      <span class="n">resInvalid</span><span class="p">[</span><span class="s2">&quot;statusCode&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">statusCode</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="n">statusCode</span> <span class="o">:</span> <span class="m">400</span><span class="p">;</span>
</span><span class="hll">      <span class="n">resInvalid</span><span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="n">toString</span><span class="p">();</span>
</span><span class="hll">      <span class="k">this</span><span class="p">.</span><span class="n">_isCreating</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class="hll">      <span class="n">notifyListeners</span><span class="p">();</span> <span class="c1">//Prosedur standard untuk memberitahu &quot;listener&quot; bahwa ada perubahan</span>
</span><span class="hll">      <span class="k">return</span> <span class="n">resInvalid</span><span class="p">;</span>
</span><span class="hll">    <span class="p">}</span>
</span><span class="hll">  <span class="p">}</span>
</span><span class="p">}</span>
</code></pre></div>
</td></tr></table>
<p>Pada code diatas, kita menggunakan <strong>POST</strong> sebagai HTTP verb, hal ini sesuai dengan standard: <a href="https://tools.ietf.org/html/rfc2616#section-9.5">https://tools.ietf.org/html/rfc2616#section-9.5</a></p>
<h2 id="ui-user-interface"><em>UI</em> ( User interface )</h2>
<p>UI untuk (C)reate adalah sebuah <strong>screen</strong> terpisah, yang bisa dibuka dari halaman "home". Berikut ini flow UI nya:</p>
<p><img alt="Create UI Flow" src="../../assets/images/crud/crud-1.6.png" /></p>
<ol>
<li>
<p>Trigger
    <em>trigger</em> atau pemicu adalah sebuah tombol dari halaman "home". Buka file <code>lib/screens/home-page.dart</code>, lihat pada code yang ter-<em>highlight</em> dibawah, code tersebut adalah pemicu UI untuk input buku:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="p">...</span>
<span class="kd">class</span> <span class="nc">MyHomePage</span> <span class="kd">extends</span> <span class="n">StatelessWidget</span> <span class="p">{</span>
  <span class="n">MyHomePage</span><span class="p">({</span><span class="n">Key</span> <span class="n">key</span><span class="p">})</span> <span class="o">:</span> <span class="k">super</span><span class="p">(</span><span class="nl">key:</span> <span class="n">key</span><span class="p">);</span>

<span class="hll">  <span class="n">_newBook</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">addButtonContext</span><span class="p">)</span> <span class="kd">async</span> <span class="p">{</span>
</span><span class="hll">    <span class="n">Navigator</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">addButtonContext</span><span class="p">).</span><span class="n">pushNamed</span><span class="p">(</span>
</span><span class="hll">      <span class="n">BookInputScreen</span><span class="p">.</span><span class="n">routeName</span><span class="p">,</span>
</span><span class="hll">    <span class="p">);</span>
</span><span class="hll">  <span class="p">}</span>
</span>
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">Scaffold</span><span class="p">(</span>
<span class="p">...</span>
</code></pre></div>
</td></tr></table>
</li>
<li>
<p>Input "screen"
    Input "screen" bisa dilihat di <code>lib/screens/book-input.dart</code>. Fungsi dasar untuk input judul dan gambar sudah tersedia. Kita tinggal cukup "menjahit" saja dengan REST API untuk (C)reate. Sebenarnya, selain (C)reate, UI ini juga digunakan untuk (U)pdate</p>
</li>
</ol>
<h2 id="jahit-create-rest-api">"Jahit" (C)reate REST API</h2>
<p>Akhirnya... <img alt="🎉" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f389.svg" title=":tada:" />, setelah begitu banyak yang kita lakukan. Saat nya kita mencoba satu bagian dari CRUD yaitu (C)reate.</p>
<p>Masih di <code>lib/screens/book-input.dart</code>, ubah/tambah sesuai dengan baris yang ter-<em>highlight</em> berikut ini:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">import</span> <span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>
<span class="k">import</span> <span class="s1">&#39;dart:io&#39;</span><span class="p">;</span>
<span class="k">import</span> <span class="s1">&#39;package:image_picker/image_picker.dart&#39;</span><span class="p">;</span>
<span class="hll"><span class="k">import</span> <span class="s1">&#39;package:provider/provider.dart&#39;</span><span class="p">;</span>
</span><span class="hll">
</span><span class="hll"><span class="k">import</span> <span class="s1">&#39;package:perpus/models/booklist_model.dart&#39;</span><span class="p">;</span>
</span><span class="hll"><span class="k">import</span> <span class="s1">&#39;package:perpus/providers/booklist_provider.dart&#39;</span><span class="p">;</span>
</span>
<span class="kd">class</span> <span class="nc">BookInputScreenArguments</span> <span class="p">{</span>
  <span class="kd">final</span> <span class="kt">String</span> <span class="n">id</span><span class="p">;</span>
  <span class="kd">final</span> <span class="kt">String</span> <span class="n">title</span><span class="p">;</span>
  <span class="kd">final</span> <span class="kt">String</span> <span class="n">imagePath</span><span class="p">;</span>
  <span class="n">BookInputScreenArguments</span><span class="p">({</span><span class="k">this</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">title</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">imagePath</span><span class="p">});</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">BookInputScreen</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="p">{</span>
  <span class="kd">static</span> <span class="k">const</span> <span class="n">routeName</span> <span class="o">=</span> <span class="s2">&quot;/book-add&quot;</span><span class="p">;</span>

  <span class="nd">@override</span>
  <span class="n">_BookInputScreenState</span> <span class="n">createState</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="n">_BookInputScreenState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">_BookInputScreenState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">BookInputScreen</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="kt">String</span> <span class="n">_title</span><span class="p">;</span>
  <span class="kt">bool</span> <span class="n">_inputIsValid</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="n">BookInputScreenArguments</span> <span class="n">_args</span><span class="p">;</span>

  <span class="n">File</span> <span class="n">_image</span><span class="p">;</span>
  <span class="kd">final</span> <span class="n">picker</span> <span class="o">=</span> <span class="n">ImagePicker</span><span class="p">();</span>

  <span class="n">Future</span> <span class="n">_pickImage</span><span class="p">()</span> <span class="kd">async</span> <span class="p">{</span>
    <span class="kd">final</span> <span class="n">pickedFile</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">picker</span><span class="p">.</span><span class="n">getImage</span><span class="p">(</span><span class="k">source</span><span class="o">:</span> <span class="n">ImageSource</span><span class="p">.</span><span class="n">gallery</span><span class="p">);</span>

    <span class="n">setState</span><span class="p">(()</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">pickedFile</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">_image</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="n">pickedFile</span><span class="p">.</span><span class="n">path</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="n">_setInputValid</span><span class="p">();</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">print</span><span class="p">(</span><span class="s1">&#39;No image selected.&#39;</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="kt">void</span> <span class="n">_setInputValid</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="n">_inputIsValid</span> <span class="o">=</span>
        <span class="k">this</span><span class="p">.</span><span class="n">_title</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="n">_title</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="n">_image</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kt">bool</span> <span class="kd">get</span> <span class="n">inputIsValid</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="n">_inputIsValid</span><span class="p">;</span>
  <span class="p">}</span>

<span class="hll">  <span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span> <span class="n">_submit</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">submitContext</span><span class="p">)</span> <span class="kd">async</span> <span class="p">{</span>
</span><span class="hll">    <span class="k">this</span><span class="p">.</span><span class="n">_create</span><span class="p">(</span><span class="n">submitContext</span><span class="p">);</span>
</span><span class="hll">  <span class="p">}</span>
</span><span class="hll">
</span><span class="hll">  <span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span> <span class="n">_create</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">submitContext</span><span class="p">)</span> <span class="kd">async</span> <span class="p">{</span>
</span><span class="hll">    <span class="kd">final</span> <span class="n">BookListModel</span> <span class="n">inputData</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BookListModel</span><span class="p">(</span>
</span><span class="hll">      <span class="nl">id:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="hll">      <span class="nl">title:</span> <span class="k">this</span><span class="p">.</span><span class="n">_title</span><span class="p">,</span>
</span><span class="hll">      <span class="nl">imagePath:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="hll">      <span class="nl">imageFile:</span> <span class="k">this</span><span class="p">.</span><span class="n">_image</span><span class="p">,</span>
</span><span class="hll">    <span class="p">);</span>
</span><span class="hll">    <span class="kd">final</span> <span class="n">BookListProvider</span> <span class="n">booklistData</span> <span class="o">=</span>
</span><span class="hll">        <span class="n">Provider</span><span class="p">.</span><span class="n">of</span><span class="o">&lt;</span><span class="n">BookListProvider</span><span class="o">&gt;</span><span class="p">(</span><span class="n">submitContext</span><span class="p">,</span> <span class="nl">listen:</span> <span class="kc">false</span><span class="p">);</span>
</span><span class="hll">    <span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">dynamic</span><span class="o">&gt;</span> <span class="n">submitRes</span> <span class="o">=</span>
</span><span class="hll">        <span class="kd">await</span> <span class="n">booklistData</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="n">submitContext</span><span class="p">,</span> <span class="n">inputData</span><span class="p">);</span>
</span><span class="hll">
</span><span class="hll">    <span class="k">if</span> <span class="p">(</span><span class="n">submitRes</span><span class="p">[</span><span class="s2">&quot;statusCode&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">submitRes</span><span class="p">[</span><span class="s2">&quot;statusCode&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="m">200</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">      <span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">submitRes</span><span class="p">[</span><span class="s2">&quot;statusCode&quot;</span><span class="p">]);</span>
</span><span class="hll">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="hll">      <span class="n">Scaffold</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">submitContext</span><span class="p">)</span>
</span><span class="hll">        <span class="p">..</span><span class="n">removeCurrentSnackBar</span><span class="p">()</span>
</span><span class="hll">        <span class="p">..</span><span class="n">showSnackBar</span><span class="p">(</span>
</span><span class="hll">          <span class="n">SnackBar</span><span class="p">(</span>
</span><span class="hll">            <span class="nl">content:</span> <span class="n">Text</span><span class="p">(</span>
</span><span class="hll">                <span class="s2">&quot;Error </span><span class="se">\n</span><span class="s2">- Status: </span><span class="si">${</span><span class="n">submitRes</span><span class="p">[</span><span class="s2">&quot;statusCode&quot;</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">- Message: </span><span class="si">${</span><span class="n">submitRes</span><span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">),</span>
</span><span class="hll">            <span class="nl">duration:</span> <span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span> <span class="m">5</span><span class="p">),</span>
</span><span class="hll">            <span class="nl">backgroundColor:</span> <span class="n">Colors</span><span class="p">.</span><span class="n">redAccent</span><span class="p">.</span><span class="n">shade400</span><span class="p">,</span>
</span><span class="hll">          <span class="p">),</span>
</span><span class="hll">        <span class="p">);</span>
</span><span class="hll">    <span class="p">}</span>
</span><span class="hll">  <span class="p">}</span>
</span><span class="hll">
</span>  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
<span class="hll">    <span class="kt">bool</span> <span class="n">isCreating</span> <span class="o">=</span> <span class="n">context</span><span class="p">.</span><span class="n">watch</span><span class="o">&lt;</span><span class="n">BookListProvider</span><span class="o">&gt;</span><span class="p">().</span><span class="n">isCreating</span><span class="p">;</span>
</span>    <span class="k">return</span> <span class="n">Scaffold</span><span class="p">(</span>
      <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="p">(</span>
        <span class="nl">title:</span> <span class="k">this</span><span class="p">.</span><span class="n">_args</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="n">_args</span><span class="p">.</span><span class="n">id</span> <span class="o">==</span> <span class="kc">null</span>
            <span class="o">?</span> <span class="k">const</span> <span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Tambah Buku&quot;</span><span class="p">)</span>
            <span class="o">:</span> <span class="k">const</span> <span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Edit Buku&quot;</span><span class="p">),</span>
      <span class="p">),</span>
      <span class="nl">body:</span> <span class="n">Padding</span><span class="p">(</span>
        <span class="nl">padding:</span> <span class="k">const</span> <span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">15.0</span><span class="p">),</span>
        <span class="nl">child:</span> <span class="n">Form</span><span class="p">(</span>
          <span class="nl">child:</span> <span class="n">SingleChildScrollView</span><span class="p">(</span>
            <span class="nl">child:</span> <span class="n">Column</span><span class="p">(</span>
              <span class="nl">crossAxisAlignment:</span> <span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">start</span><span class="p">,</span>
              <span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;</span><span class="p">[</span>
                <span class="n">TextFormField</span><span class="p">(</span>
                  <span class="nl">decoration:</span> <span class="n">InputDecoration</span><span class="p">(</span><span class="nl">labelText:</span> <span class="s1">&#39;Title&#39;</span><span class="p">),</span>
                  <span class="nl">initialValue:</span> <span class="k">this</span><span class="p">.</span><span class="n">_title</span><span class="p">,</span>
                  <span class="nl">onChanged:</span> <span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">setState</span><span class="p">(()</span> <span class="p">{</span>
                      <span class="k">this</span><span class="p">.</span><span class="n">_title</span> <span class="o">=</span> <span class="n">v</span><span class="p">;</span>
                      <span class="k">this</span><span class="p">.</span><span class="n">_setInputValid</span><span class="p">();</span>
                    <span class="p">});</span>
                  <span class="p">},</span>
                <span class="p">),</span>
                <span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span> <span class="m">10</span><span class="p">),</span>
                <span class="n">FlatButton</span><span class="p">.</span><span class="n">icon</span><span class="p">(</span>
                  <span class="nl">icon:</span> <span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">image</span><span class="p">),</span>
                  <span class="nl">onPressed:</span> <span class="n">_pickImage</span><span class="p">,</span>
                  <span class="nl">label:</span> <span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Pick an Image&quot;</span><span class="p">),</span>
                <span class="p">),</span>
                <span class="n">ClipRRect</span><span class="p">(</span>
                  <span class="nl">borderRadius:</span> <span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">8.0</span><span class="p">),</span>
                  <span class="nl">child:</span> <span class="k">this</span><span class="p">.</span><span class="n">_image</span> <span class="o">==</span> <span class="kc">null</span>
                      <span class="o">?</span> <span class="n">Container</span><span class="p">()</span>
                      <span class="o">:</span> <span class="n">Image</span><span class="p">(</span>
                          <span class="nl">image:</span> <span class="n">FileImage</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">_image</span><span class="p">),</span>
                          <span class="nl">width:</span> <span class="m">230</span><span class="p">,</span>
                          <span class="nl">height:</span> <span class="m">150</span><span class="p">,</span>
                          <span class="nl">fit:</span> <span class="n">BoxFit</span><span class="p">.</span><span class="n">cover</span><span class="p">,</span>
                        <span class="p">),</span>
                <span class="p">),</span>
                <span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span> <span class="m">10</span><span class="p">),</span>
                <span class="n">Builder</span><span class="p">(</span><span class="nl">builder:</span> <span class="p">(</span><span class="n">BuildContext</span> <span class="n">submitContext</span><span class="p">)</span> <span class="p">{</span>
                  <span class="k">return</span> <span class="n">RaisedButton</span><span class="p">(</span>
                    <span class="nl">child:</span> <span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Simpan&quot;</span><span class="p">),</span>
                    <span class="nl">color:</span> <span class="n">Colors</span><span class="p">.</span><span class="n">lightBlueAccent</span><span class="p">,</span>
<span class="hll">                    <span class="nl">onPressed:</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="n">inputIsValid</span> <span class="o">||</span> <span class="n">isCreating</span>
</span><span class="hll">                        <span class="o">?</span> <span class="kc">null</span>
</span><span class="hll">                        <span class="o">:</span> <span class="p">()</span> <span class="p">{</span>
</span><span class="hll">                            <span class="k">this</span><span class="p">.</span><span class="n">_submit</span><span class="p">(</span><span class="n">submitContext</span><span class="p">);</span>
</span><span class="hll">                          <span class="p">},</span>
</span>                  <span class="p">);</span>
                <span class="p">}),</span>
<span class="hll">                <span class="n">isCreating</span> <span class="o">==</span> <span class="kc">false</span>
</span><span class="hll">                    <span class="o">?</span> <span class="n">Container</span><span class="p">()</span>
</span><span class="hll">                    <span class="o">:</span> <span class="n">Center</span><span class="p">(</span>
</span><span class="hll">                        <span class="nl">child:</span> <span class="n">Padding</span><span class="p">(</span>
</span><span class="hll">                          <span class="nl">padding:</span> <span class="k">const</span> <span class="n">EdgeInsets</span><span class="p">.</span><span class="n">only</span><span class="p">(</span><span class="nl">top:</span> <span class="m">50</span><span class="p">),</span>
</span><span class="hll">                          <span class="nl">child:</span> <span class="n">CircularProgressIndicator</span><span class="p">(),</span>
</span><span class="hll">                        <span class="p">),</span>
</span><span class="hll">                      <span class="p">)</span>
</span>              <span class="p">],</span>
            <span class="p">),</span>
          <span class="p">),</span>
        <span class="p">),</span>
      <span class="p">),</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<ol>
<li>Baris 54-56, disini, selain (C)reate, nanti akan dilakukan juga (U)pdate</li>
<li>Baris 58-84, adalah block dari <em>logic</em> (C)reate</li>
<li>Baris 88, adalah mengambil <strong>state</strong> dari <strong>provider</strong> untuk kondisi <code>isCreating</code>, dimana jika bernilai <code>true</code>, berarti sedang melakukan (C)reate ke server HTTP kita. Sebaliknya, jika bernilai <code>false</code>, berarti proses (C)reate sudah selesai</li>
<li>Baris 134-138, Tombol akan di disable ( dengan <code>null</code> handler), jika:<ol>
<li>Input tidak valid</li>
<li><code>isCreating = true</code>, yang berarti sedang ada proses (C)reate ke server HTTP</li>
</ol>
</li>
<li>Baris 141-148, Akan menampilkan "loading indicator" saat terjadi proses (C)rud. yaitu icon yang berputar-putar, agar user tahu bahwa masih ada proses menyimpan ke server</li>
</ol>
<h2 id="test-input">Test input</h2>
<ol>
<li>Coba input data judul dan gambar</li>
<li>Click simpan</li>
<li>Check https://perpus-api.biqdev.com/perpus-api/booklist/<strong>&lt;nama_user&gt;</strong></li>
</ol>
<p>untuk <strong>&lt;nama_user&gt;</strong> diatas adalah sesuai setting yang kita masukkan pada step <strong><a href="../provider-setup/#settingprovider">SettingProvider</a></strong></p>
<p>Jika anda melihat tampilan kurang lebih seperti ini:</p>
<div class="highlight"><pre><span></span><code>{
    &quot;status&quot;: &quot;success&quot;,
    &quot;message&quot;: &quot;&quot;,
    &quot;data&quot;: [
        {
        &quot;id&quot;: &quot;5fd392d65a98d61f7dc045de&quot;,
        &quot;title&quot;: &quot;Judul 10&quot;,
        &quot;image_path&quot;: &quot;assets/biqdev/1607701206244514318-image_picker274694392.jpg&quot;
        }
    ]
}
</code></pre></div>
<p>Berarti, selamat <img alt="🎉" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f389.svg" title=":tada:" />, anda berhasil.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../booklist-mockup/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Sebelumnya
                </span>
                Booklist mockup
              </div>
            </div>
          </a>
        
        
          <a href="../read/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Selanjutnya
                </span>
                (R)ead
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 www.biqdev.com;
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.fd16492e.min.js"></script>
      <script src="../../assets/javascripts/bundle.7836ba4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Salin ke memori", "clipboard.copied": "Tersalin ke memori", "search.config.lang": "en", "search.config.pipeline": " ", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Cari", "search.result.placeholder": "Ketik untuk mulai pencarian", "search.result.none": "Tidak ada dokumen yang sesuai", "search.result.one": "1 dokumen ditemukan", "search.result.other": "# dokumen ditemukan", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>