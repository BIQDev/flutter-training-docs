
<!doctype html>
<html lang="id" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://biqdev.com/tutorial/flutter-training/crud-rest-api/provider/">
      
      
        <meta name="author" content="bayu@biqdev.com">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.6">
    
    
      
        <title>Provider - Flutter training</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6910b76c.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.196e0c26.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#provider" class="md-skip">
          Lewati ke isi
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://biqdev.com/tutorial/flutter-training" title="Flutter training" class="md-header-nav__button md-logo" aria-label="Flutter training">
      
  <img src="../../assets/images/biq-logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Flutter training
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Provider
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Cari" placeholder="Cari" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://biqdev.com/tutorial/flutter-training" title="Flutter training" class="md-nav__button md-logo" aria-label="Flutter training">
      
  <img src="../../assets/images/biq-logo.png" alt="logo">

    </a>
    Flutter training
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Welcome
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    <label class="md-nav__link" for="nav-2">
      CRUD REST API
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="CRUD REST API" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        CRUD REST API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../overview/" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../grid-setup/" class="md-nav__link">
      Grid Setup
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Provider
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Provider
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Daftar isi">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Daftar isi
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#latar-belakang-penggunaan-provider" class="md-nav__link">
    Latar belakang penggunaan provider
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#konsep-dasar-provider" class="md-nav__link">
    Konsep dasar provider
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-provider" class="md-nav__link">
    Install provider
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#membuat-provider" class="md-nav__link">
    Membuat provider
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../provider-setup/" class="md-nav__link">
      Provider setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../booklist-mockup/" class="md-nav__link">
      Booklist mockup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../create/" class="md-nav__link">
      (C)reate
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Daftar isi">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Daftar isi
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#latar-belakang-penggunaan-provider" class="md-nav__link">
    Latar belakang penggunaan provider
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#konsep-dasar-provider" class="md-nav__link">
    Konsep dasar provider
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-provider" class="md-nav__link">
    Install provider
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#membuat-provider" class="md-nav__link">
    Membuat provider
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="provider">Provider</h1>
<p><strong>Provider</strong> digunakan untuk beberapa tujuan. Salah satu kegunaan utamanya adalah untuk CRUD pada project pelatihan ini.</p>
<p>Pada umumnya <strong>provider</strong> disebut juga sebagai <em>state management</em>, dimana sebuah aplikasi memiliki satu sumber data untuk semua <em>user interface</em>. Kita bisa membayangkan <strong>provider</strong> ini seperti <strong>database</strong> yang berisi satu atau lebih <strong>table</strong>.</p>
<p>Sehingga, pada penggunaan dengan tujuan CRUD, <strong>provider</strong> berfungsi seperti database sementara pada saat terjadi <strong>Read</strong> dari server.</p>
<h2 id="latar-belakang-penggunaan-provider">Latar belakang penggunaan provider</h2>
<p>Konsep <strong>provider</strong> pada Flutter, sudah banyak dan populer digunakan pada platform lain, seperti <strong>Redux</strong> pada <strong>RreactJS</strong> atau <strong>NgRx</strong> dan <strong>NgXs</strong> pada <strong>Angular</strong>.</p>
<p>Sebelum konspe <em>state management</em> seperti <strong>provider</strong> ini populer, data pada aplikasi antar <em>user interface</em> biasanya di <em>pass</em> berupa <em>variable</em> biasa dengan mengakses module/instance dari <em>user interface</em> yang memiliki data terkait. Hal ini akan sangat merepotkan, bayangkan saat kita memiliki sebuah <em>input dialog</em>, dari situ kita memerlukan data dari UI lain misal dari panel utama, kita harus memikirkan bagamana mem-<em>pass</em> data dari panel utama ke UI <em>input dialog</em> tersebut. Terlebih lagi jika pada suatu titik terjadi perubahan data pada panel utama tersebut.</p>
<p>Dibandingkan dengan kosep <strong>provider</strong> ini atau yang umumnya disebut juga dengan <strong>state management</strong>. Data akan dapat diakses pada <strong>satu</strong> instance khusus. Jadi aplikasi kita akan memiliki <em>single source of truth</em>, yaitu, semua aplikasi akan memiliki pada sumber <em>state</em> yang sama.</p>
<h2 id="konsep-dasar-provider">Konsep dasar provider</h2>
<p>Konsep dasar <strong>provider</strong>, hampir sama dengan <em>state management</em> pada umumnya.</p>
<ol>
<li>Ada satu pusat <em>state</em> yang diatur dalam mekanisme <em>state management</em></li>
<li>
<p><em>user interface</em> atau komponen apa saja yang membutuhkan <em>state</em> atau <em>data</em> dari <strong>provider</strong>, bisa melakukan</p>
<ol>
<li><em>listen</em>, dalam hal ini, komponen atau <em>user interface</em> terkait akan mengambil satu atau beberapa variable dari <strong>provider</strong>, kemudian akan melakukan <em>listen</em>, atau mengawasi perubahan data yang diambil tersebut. Jika terjadi perubahan, maka akan ada prosedur tertentu yang akan dilakukan, misal mengupdate tampilan sesuai perubahan data. Ini adalah fitur yang paling membantu dan sering digunakan. Komponen yang mengunakan, biasanya disebut <strong>listener</strong></li>
<li><em>once time access</em> atau satukali akses, yang akan mendapatkan hasil data dari <strong>provider</strong> hanya pada saat diambil pada titik tertentu. Misal, hanya di akses pada constructor atau <em>live cycle</em> tertentu seperti <code>didChangeDependencies()</code>. Jadi tidak akan ada mekanisme <em>listen</em></li>
</ol>
</li>
</ol>
<h2 id="install-provider">Install provider</h2>
<p><strong>Provider</strong> tidak disertakan secara <em>builtin</em> pada flutter. Kita harus men-<em>setup</em> terpisah.</p>
<p>Untuk itu perlu dilakukan seperti setting package seperti dibawah ini:</p>
<ol>
<li>Buka file <code>pubspec.yaml</code></li>
<li>Buat baris baru setelah baris ke-25</li>
<li>Tambah code seperti tertera pada baris yang bertanda
   <table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="nl">dependencies:</span>
  <span class="nl">flutter:</span>
    <span class="nl">sdk:</span> <span class="n">flutter</span>
<span class="hll">  <span class="nl">provider:</span> <span class="o">^</span><span class="m">4.3</span><span class="p">.</span><span class="m">2</span><span class="o">+</span><span class="m">2</span>
</span>  <span class="nl">image_picker:</span> <span class="o">^</span><span class="m">0.6</span><span class="p">.</span><span class="m">7</span><span class="o">+</span><span class="m">14</span>
  <span class="nl">mime:</span> <span class="o">^</span><span class="m">0.9</span><span class="p">.</span><span class="m">7</span>
</code></pre></div>
</td></tr></table></li>
<li>Simpan file <code>pubspec.yaml</code>, VS Code akan otomatis melakukan <strong>get</strong> untuk package <strong>provider</strong>. Jika tidak, jalankan perintah pada commandline: <code>flutter pub get</code></li>
</ol>
<h2 id="membuat-provider">Membuat provider</h2>
<p>Membuat provider pada flutter cukup sederhana. Ada 2 komponen dasar yang harus dibuat yaitu:</p>
<ol>
<li>
<p>Model
    Kita dapat menganalogikan membuat model seperti mendefinisikan <em>field</em> atau nama kolom pada table sebuah database. Jadi bisa kita artikan <strong>model</strong> adalah sebuah <strong>definisi</strong>. Model tersebut di definisikan dengan menggunakan <code>class</code> biasa dari <strong>dart</strong>.</p>
<p>Model pada dasarnya tidak mandatory, atau tidak wajib. Namun lebih bersifat pada ketergantungan dari <em>pattern</em> yang umum digunakan. Karena akan sulit memiliki record yang dishare antara <strong>Provider</strong> dan komponen yang me-<em>listen</em>. Hingga ahirnya, umumnya menjadi sebuah keharusan dalam membuat <strong>provider</strong>, kecuali pada kasus tertentu yang didalamnya tidak terdapat <em>record</em>, atau type data primitive bawaan dart, seperti integer, string dll.</p>
</li>
<li>
<p>Provider
    Disinilah provider sesungguhnya mulai dibuat. <em>Signature</em> umum yang biasanya terdapat pada <strong>provider</strong> adalah sebagai berikut:</p>
<ol>
<li>
<p>keyword <code>with ChangeNotifier</code></p>
<p>keyword <code>with ChangeNotifier</code> didepan nama class, disebut <strong>mixin</strong> pada <strong>dart</strong> language. Fungsinya hampir seperti <em>inheritance</em> class pada <strong>dart</strong> dengan menggunakan keyword <strong>extend</strong>.</p>
<p>Contoh:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">BookListProvider</span> <span class="kd">with</span> <span class="n">ChangeNotifier</span> <span class="p">{</span>
</code></pre></div>
</li>
</ol>
<p>Dengan melakukan <strong>mixin</strong> diatas terhadap class <code>ChangeNotifier</code>, provider yang kita definisikan, secara ajaib akan membangun <em>channel</em> yang berfungsi untuk memberitahu kepada <em>listener</em> atau komponen yang melakukan <em>listen</em> pada <em>state</em> tertentu. Mengenai <em>listener</em> akan kitabahas lebih lanjut nanti.</p>
<ol>
<li>
<p>Member variable <code>List</code> dengan <strong>generic type</strong></p>
<p>Disinilah definisi <strong>Model</strong> diatas berperan. Model yang sudah didefinisikan akan digunakan sebagai <em>generic type</em> dari sebuah variable dengan type <code>List</code> atau pada pemrograman lain biasa disebut <code>Array</code>. Member variable inilah yang nantinya akan digunakan dan di <em>listen</em> oleh komponen-komponen lainnya. Data tersebut sering disebut sebagai <em>state</em>, karena merupakan variable yang akan berubah2 dan menentukan <em>state</em> sebuah aplikasi.</p>
<p>Contoh pendefinisian member variable untuk state dengan generic type:
<div class="highlight"><pre><span></span><code><span class="n">List</span><span class="o">&lt;</span><span class="n">BookListModel</span><span class="o">&gt;</span> 
</code></pre></div></p>
</li>
<li>
<p>Member variable state bersifat <em>private</em></p>
<p>Ini adalah sebuah pattern wajib. Dengan membuat member variable dari <em>state</em> bersifat private, akan mencegah perubahan sembarangan dari luar mekanisme/pattern <strong>provider</strong> itu sendiri</p>
<p>Dari contoh sebelumnya diatas mengenai <em>generic type</em>, contoh lengkapnya untuk membuat menjadi private sebagai berikut:
<div class="highlight"><pre><span></span><code><span class="n">List</span><span class="o">&lt;</span><span class="n">BookListModel</span><span class="o">&gt;</span> <span class="n">_list</span> <span class="o">=</span> <span class="p">[];</span>
</code></pre></div></p>
</li>
<li>
<p>Membuat <strong>getter</strong> untuk mengambil state</p>
<p>Komponen-komponen yang akan mengambil <em>state</em> dari <em>provider</em>, harus menggunakan <strong>fungsi khusus</strong> yang di sebut <strong>getter</strong>. Pada pemrograman <strong>dart</strong>, getter didefinisikan dengan menambah <em>keyword</em> <code>get</code> pada definisi fungsinya. Dengan format: <code>&lt;type&gt; get &lt;nama_getter&gt;{ return ... }</code></p>
<p>Menyambung contoh sebelumnya, getter untuk <em>state</em> <code>_list</code> diatas menjadi:</p>
<div class="highlight"><pre><span></span><code>  <span class="n">List</span><span class="o">&lt;</span><span class="n">BookListModel</span><span class="o">&gt;</span> <span class="kd">get</span> <span class="n">list</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[...</span><span class="k">this</span><span class="p">.</span><span class="n">_list</span><span class="p">];</span>
  <span class="p">}</span>
</code></pre></div>
</li>
</ol>
<p>Kenapa return harus ditulis <code>return [...this._list];</code> ? karena jika hanya melakukan <code>return this._list;</code> <em>listener</em> tidak akan mendeteksi saat ada perubahan variable <em>state</em> <code>_list</code>. Ini adalah sifat alami <em>dart</em>, dimana variable akan di <em>pass</em> ke komponen lain berupa <em>pointer</em> atau alamatnya saja. Dengan me-<em>return</em> <code>return [...this._list];</code>, dart akan memberikan variable baru sehingga alamat <em>pointer</em> akan berubah, dan <em>listener</em> akan tahu saat terjadi perubahan variable <em>state</em> terkait.</p>
</li>
</ol>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../grid-setup/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Sebelumnya
                </span>
                Grid Setup
              </div>
            </div>
          </a>
        
        
          <a href="../provider-setup/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Selanjutnya
                </span>
                Provider setup
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 www.biqdev.com;
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.fd16492e.min.js"></script>
      <script src="../../assets/javascripts/bundle.7836ba4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Salin ke memori", "clipboard.copied": "Tersalin ke memori", "search.config.lang": "en", "search.config.pipeline": " ", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Cari", "search.result.placeholder": "Ketik untuk mulai pencarian", "search.result.none": "Tidak ada dokumen yang sesuai", "search.result.one": "1 dokumen ditemukan", "search.result.other": "# dokumen ditemukan", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>