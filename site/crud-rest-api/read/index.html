
<!doctype html>
<html lang="id" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://biqdev.com/tutorial/flutter/crud-rest-api/read/">
      
      
        <meta name="author" content="bayu@biqdev.com">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.6">
    
    
      
        <title>(R)ead - Flutter training</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6910b76c.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.196e0c26.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#read" class="md-skip">
          Lewati ke isi
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://biqdev.com/tutorial/flutter" title="Flutter training" class="md-header-nav__button md-logo" aria-label="Flutter training">
      
  <img src="../../assets/images/biq-logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Flutter training
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              (R)ead
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Cari" placeholder="Cari" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://biqdev.com/tutorial/flutter" title="Flutter training" class="md-nav__button md-logo" aria-label="Flutter training">
      
  <img src="../../assets/images/biq-logo.png" alt="logo">

    </a>
    Flutter training
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Welcome
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    <label class="md-nav__link" for="nav-2">
      CRUD REST API
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="CRUD REST API" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        CRUD REST API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../overview/" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../grid-setup/" class="md-nav__link">
      Grid Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../provider/" class="md-nav__link">
      Provider
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../provider-setup/" class="md-nav__link">
      Provider setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../booklist-mockup/" class="md-nav__link">
      Booklist mockup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../create/" class="md-nav__link">
      (C)reate
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        (R)ead
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      (R)ead
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Daftar isi">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Daftar isi
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#hapus-data-mockup" class="md-nav__link">
    Hapus data mockup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fungsi-read-di-provider" class="md-nav__link">
    Fungsi (R)ead di provider
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jahit-api-request-ke-grid" class="md-nav__link">
    "Jahit" API Request ke Grid
  </a>
  
    <nav class="md-nav" aria-label=""Jahit" API Request ke Grid">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#panggil-read-dari-booklistprovider" class="md-nav__link">
    Panggil read() dari BookListProvider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tampilkan-loading-indicator" class="md-nav__link">
    Tampilkan "loading indicator"
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../create-then-read/" class="md-nav__link">
      (C)eate kemudian (R)ead
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../update/" class="md-nav__link">
      (U)pdate
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Daftar isi">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Daftar isi
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#hapus-data-mockup" class="md-nav__link">
    Hapus data mockup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fungsi-read-di-provider" class="md-nav__link">
    Fungsi (R)ead di provider
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jahit-api-request-ke-grid" class="md-nav__link">
    "Jahit" API Request ke Grid
  </a>
  
    <nav class="md-nav" aria-label=""Jahit" API Request ke Grid">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#panggil-read-dari-booklistprovider" class="md-nav__link">
    Panggil read() dari BookListProvider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tampilkan-loading-indicator" class="md-nav__link">
    Tampilkan "loading indicator"
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="read">(R)ead</h1>
<p>Pada bagian (R)ead ini, kita akan membaca data dari REST API dengan response yang berformat JSON. Berdasarkan standard <a href="https://tools.ietf.org/html/rfc2616#section-9.3">https://tools.ietf.org/html/rfc2616#section-9.3</a>, kita menggunakan <strong>GET</strong> sebagai "HTTP verb" untuk melakukan prosedur (R)ead ini.</p>
<h2 id="hapus-data-mockup">Hapus data mockup</h2>
<p>Langkah pertama, kita harus menghapus data-data mockup yang telah kita buat. Perhatikan dan <strong>hapus</strong> baris yang ter-<em>highlight</em> berikut:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="p">...</span>
  <span class="c1">// _list ini adalah model utama dari daftar buku kita</span>
  <span class="c1">// akan digunakan untuk menampilkan daftar buku</span>
  <span class="c1">// yang didapat dari REST API</span>
  <span class="n">List</span><span class="o">&lt;</span><span class="n">BookListModel</span><span class="o">&gt;</span> <span class="n">_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="hll">    <span class="c1">// Kita buat dummy data atau data palsu</span>
</span><span class="hll">    <span class="c1">// hanya untuk tujuan mockup dulu</span>
</span><span class="hll">    <span class="n">BookListModel</span><span class="p">(</span>
</span><span class="hll">      <span class="nl">id:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
</span><span class="hll">      <span class="nl">title:</span> <span class="s2">&quot;Judul 1&quot;</span><span class="p">,</span>
</span><span class="hll">      <span class="nl">imagePath:</span> <span class="s2">&quot;assets/book.png&quot;</span><span class="p">,</span>
</span><span class="hll">    <span class="p">),</span>
</span><span class="hll">    <span class="n">BookListModel</span><span class="p">(</span>
</span><span class="hll">      <span class="nl">id:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
</span><span class="hll">      <span class="nl">title:</span> <span class="s2">&quot;Judul 2&quot;</span><span class="p">,</span>
</span><span class="hll">      <span class="nl">imagePath:</span> <span class="s2">&quot;assets/book.png&quot;</span><span class="p">,</span>
</span><span class="hll">    <span class="p">),</span>
</span><span class="hll">    <span class="n">BookListModel</span><span class="p">(</span>
</span><span class="hll">      <span class="nl">id:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span>
</span><span class="hll">      <span class="nl">title:</span> <span class="s2">&quot;Judul 3&quot;</span><span class="p">,</span>
</span><span class="hll">      <span class="nl">imagePath:</span> <span class="s2">&quot;assets/book.png&quot;</span><span class="p">,</span>
</span><span class="hll">    <span class="p">),</span>
</span>  <span class="p">];</span>
<span class="p">...</span>
</code></pre></div>
</td></tr></table>
<p>Sehingga menjadi:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>62
63
64
65
66
67</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="p">...</span>
  <span class="c1">// _list ini adalah model utama dari daftar buku kita</span>
  <span class="c1">// akan digunakan untuk menampilkan daftar buku</span>
  <span class="c1">// yang didapat dari REST API</span>
<span class="hll">  <span class="n">List</span><span class="o">&lt;</span><span class="n">BookListModel</span><span class="o">&gt;</span> <span class="n">_list</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class="p">...</span>
</code></pre></div>
</td></tr></table>
<h2 id="fungsi-read-di-provider">Fungsi (R)ead di provider</h2>
<p>Seperti pada (C)reate, kita juga menggunakan <strong>provider</strong> untuk meletakkan fungsi (R)ead sesungguhnya yang terhubung langsung ke REST API.</p>
<p>Untuk itu, buka kembali file <code>lib/providers/booklist_provider.dart</code>, kemudian perhatikan dan ubah/tambah code sesuai pada bagian yang ter-<em>highlight</em> berikut:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="p">...</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Jika terjadi error</span>
      <span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">dynamic</span><span class="o">&gt;</span> <span class="n">resInvalid</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">dynamic</span><span class="o">&gt;</span><span class="p">();</span>
      <span class="n">resInvalid</span><span class="p">[</span><span class="s2">&quot;statusCode&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">statusCode</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="n">statusCode</span> <span class="o">:</span> <span class="m">400</span><span class="p">;</span>
      <span class="n">resInvalid</span><span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="n">toString</span><span class="p">();</span>
      <span class="k">this</span><span class="p">.</span><span class="n">_isCreating</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
      <span class="n">notifyListeners</span><span class="p">();</span> <span class="c1">//Prosedur standard untuk memberitahu &quot;listener&quot; bahwa ada perubahan</span>
      <span class="k">return</span> <span class="n">resInvalid</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="hll">
</span><span class="hll">  <span class="c1">// _isReading Digunakan untuk menampilkan &quot;loading indicator&quot;</span>
</span><span class="hll">  <span class="c1">// Dan juga logic lain yang membutuhkannya</span>
</span><span class="hll">  <span class="kt">bool</span> <span class="n">_isReading</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class="hll">  <span class="c1">// Getter dari _isReading</span>
</span><span class="hll">  <span class="kt">bool</span> <span class="kd">get</span> <span class="n">isReading</span> <span class="p">{</span>
</span><span class="hll">    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="n">_isReading</span><span class="p">;</span>
</span><span class="hll">  <span class="p">}</span>
</span><span class="hll">
</span><span class="hll">  <span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span> <span class="n">read</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="kd">async</span> <span class="p">{</span>
</span><span class="hll">    <span class="c1">// Tandai &quot;true&quot; agar aplikasi tahu sedang terjadi proses (R)ead</span>
</span><span class="hll">    <span class="k">this</span><span class="p">.</span><span class="n">_isReading</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class="hll">    <span class="kd">final</span> <span class="n">settingData</span> <span class="o">=</span> <span class="n">Provider</span><span class="p">.</span><span class="n">of</span><span class="o">&lt;</span><span class="n">SettingProvider</span><span class="o">&gt;</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="nl">listen:</span> <span class="kc">false</span><span class="p">);</span>
</span><span class="hll">    <span class="c1">// Susun URL dengan menggunakan variable dari &quot;setting provider&quot; ditambah pattern API kita</span>
</span><span class="hll">    <span class="kt">String</span> <span class="n">url</span> <span class="o">=</span>
</span><span class="hll">        <span class="s2">&quot;</span><span class="si">${</span><span class="n">settingData</span><span class="p">.</span><span class="n">setting</span><span class="p">.</span><span class="n">apiHost</span><span class="si">}</span><span class="s2">/perpus-api/booklist/</span><span class="si">${</span><span class="n">settingData</span><span class="p">.</span><span class="n">setting</span><span class="p">.</span><span class="n">userName</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class="hll">
</span><span class="hll">    <span class="c1">// res adalah variable untuk menampung Response dari server</span>
</span><span class="hll">    <span class="n">http</span><span class="p">.</span><span class="n">Response</span> <span class="n">res</span><span class="p">;</span>
</span><span class="hll">
</span><span class="hll">    <span class="c1">// ada kemungkinan error saat http.get(), jadi gunakan block &quot;try&quot;</span>
</span><span class="hll">    <span class="k">try</span> <span class="p">{</span>
</span><span class="hll">      <span class="kd">final</span> <span class="n">resTmp</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">http</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="n">url</span><span class="p">);</span>
</span><span class="hll">      <span class="n">res</span> <span class="o">=</span> <span class="n">resTmp</span><span class="p">;</span>
</span><span class="hll">    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">      <span class="k">this</span><span class="p">.</span><span class="n">_isReading</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class="hll">      <span class="k">throw</span> <span class="p">(</span><span class="n">e</span><span class="p">);</span>
</span><span class="hll">    <span class="p">}</span>
</span><span class="hll">    <span class="n">List</span><span class="o">&lt;</span><span class="n">BookListModel</span><span class="o">&gt;</span> <span class="n">bookListData</span> <span class="o">=</span> <span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">res</span><span class="p">.</span><span class="n">body</span><span class="p">)[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
</span><span class="hll">            <span class="k">as</span> <span class="n">List</span><span class="p">)</span> <span class="c1">// Decode response sebagai &quot;List&quot;</span>
</span><span class="hll">        <span class="p">.</span><span class="n">map</span><span class="p">((</span><span class="n">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">BookListModel</span><span class="p">.</span><span class="n">fromJson</span><span class="p">(</span>
</span><span class="hll">            <span class="n">i</span><span class="p">))</span> <span class="c1">// Format &quot;List&quot; agar sesuai dengan BookListModel</span>
</span><span class="hll">        <span class="p">.</span><span class="n">toList</span><span class="p">();</span> <span class="c1">// Terakhir, convert agar jadi &quot;List of BookListModel&quot; ( List&lt;BookListModel&gt; )</span>
</span><span class="hll">
</span><span class="hll">    <span class="c1">// Menyimpan state ke variable _list,</span>
</span><span class="hll">    <span class="c1">// ini variable yg akan dibaca oleh component yang membutuhkan daftar buku</span>
</span><span class="hll">    <span class="k">this</span><span class="p">.</span><span class="n">_list</span> <span class="o">=</span> <span class="n">bookListData</span><span class="p">;</span>
</span><span class="hll">
</span><span class="hll">    <span class="c1">// Kembalikan _isReading ke false yang berarti proses (R)ead selesai</span>
</span><span class="hll">    <span class="k">this</span><span class="p">.</span><span class="n">_isReading</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class="hll">
</span><span class="hll">    <span class="c1">// notifyListeners() Memberitahukan kepada semua listener bahwa ada perubahan di provider ini</span>
</span><span class="hll">    <span class="n">notifyListeners</span><span class="p">();</span>
</span><span class="hll">  <span class="p">}</span>
</span><span class="p">}</span>
</code></pre></div>
</td></tr></table>
<h2 id="jahit-api-request-ke-grid">"Jahit" API Request ke Grid</h2>
<p>Saat nya "menjahit" API Request kit Grid view yang telah kita buat. Jika sebelumnya kita menggunakan data "mockup", kali ini kita akan benar-benar mengambil dari REST API Server.</p>
<h3 id="panggil-read-dari-booklistprovider">Panggil <code>read()</code> dari <code>BookListProvider</code></h3>
<p>Buka file <code>lib/widgets/home/book-list.dart</code>. Pada file ini, kita hanya akan memicu fungsi <code>read()</code> yang telah kita buat pada <code>BookListProvider</code> yang baru saja kita tambahkan. Dengan memanggil fungsi <code>read()</code> tersebut, aplikasi kita akan mem-<em>fetch</em> data dari REST API. Sehingga setelah proses selesai, component "Grid view" kita akan tahu ada perubahan data dan me-<em>render</em> nya.</p>
<p>Perhatikan dan ubah/tambah sesuai code yang ter-<em>highlight</em> berikut:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="p">...</span>
<span class="kd">class</span> <span class="nc">_BookListState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">BookList</span><span class="o">&gt;</span> <span class="p">{</span>
<span class="hll">  <span class="c1">// _isInitialized adalah helper variable</span>
</span><span class="hll">  <span class="c1">// berguna untuk mencegah &quot;pemanggilan berulang&quot;</span>
</span><span class="hll">  <span class="c1">// digunakan pada fungsi &quot;if&quot; dibawah</span>
</span><span class="hll">  <span class="c1">// karena didChangeDependencies() pada komponen akan dipanggil lebih dari 1 kali</span>
</span><span class="hll">  <span class="kt">bool</span> <span class="n">_isInitialized</span><span class="p">;</span>
</span><span class="hll">  <span class="nd">@override</span>
</span><span class="hll">  <span class="kt">void</span> <span class="n">didChangeDependencies</span><span class="p">()</span> <span class="p">{</span>
</span><span class="hll">    <span class="c1">// If dibawah ini mencegah pemanggilan ganda dari blok didalamnya</span>
</span><span class="hll">    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">_isInitialized</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="n">_isInitialized</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">      <span class="n">context</span><span class="p">.</span><span class="n">read</span><span class="o">&lt;</span><span class="n">BookListProvider</span><span class="o">&gt;</span><span class="p">().</span><span class="n">read</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
</span><span class="hll">      <span class="k">this</span><span class="p">.</span><span class="n">_isInitialized</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class="hll">    <span class="p">}</span>
</span><span class="hll">    <span class="c1">// Memanggil &quot;parent&quot; didChangeDependencies(), harus selalu dilakukan</span>
</span><span class="hll">    <span class="k">super</span><span class="p">.</span><span class="n">didChangeDependencies</span><span class="p">();</span>
</span><span class="hll">  <span class="p">}</span>
</span>
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
<span class="p">...</span>
</code></pre></div>
</td></tr></table>
<p>Sebagai catatan, kita perlu melakukan pemanggilan <code>super.didChangeDependencies();</code> pada akhir prosedur, karena kita telah meng <strong>override</strong> fungsi <code>didChangeDependencies()</code>. Yang mana fungsi tersebut adalah bagian dari <code>Widget</code> <em>lifecycle</em>. Oleh karena itu agar fungsi-fungsi standard tetap dijalankan setelah fungsi kita, kita harus memanggil <code>super.didChangeDependencies();</code> agar <em>lifecycle</em> tersebut tetap berjalan seperti saat belum kita <strong>override</strong></p>
<p>Jalankan ulang aplikasi, tunggu beberapa saat. Jika semua sudah benar, seharusnya saat ini kita akan melihat aplikasi android kita sudah menggunakan data dari server yang sudah kita input sebelumnya.</p>
<h3 id="tampilkan-loading-indicator">Tampilkan "loading indicator"</h3>
<p>Mengunggu tanpa kepastian akan membuat tidak nyaman, bahkan bisa membuat hayati lelah <img alt="ðŸ˜„" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f604.svg" title=":smile:" />. Karena itu mari mari kita atur <em>UX</em> agar membuat user merasa nyaman dengan <em>behavior</em> dari aplikasi kita. <em>UX</em> adalah singkatan dari <em>User experience</em>, yang berkaitan erat dengan <em>UI</em> ( <em>User interface</em> ) pada bidang frontend development.</p>
<p>Masih pada file <code>lib/widgets/home/book-list.dart</code>, perhatikan dan ubah/tambah sesuai code yang ter-<em>highlight</em> dibawah ini:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="p">...</span>
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="n">apiHost</span> <span class="o">=</span>
        <span class="n">Provider</span><span class="p">.</span><span class="n">of</span><span class="o">&lt;</span><span class="n">SettingProvider</span><span class="o">&gt;</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="nl">listen:</span> <span class="kc">false</span><span class="p">).</span><span class="n">setting</span><span class="p">.</span><span class="n">apiHost</span><span class="p">;</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">BookListModel</span><span class="o">&gt;</span> <span class="n">bookList</span> <span class="o">=</span> <span class="n">context</span><span class="p">.</span><span class="n">watch</span><span class="o">&lt;</span><span class="n">BookListProvider</span><span class="o">&gt;</span><span class="p">().</span><span class="n">list</span><span class="p">;</span>
<span class="hll">
</span><span class="hll">    <span class="kt">bool</span> <span class="n">isReading</span> <span class="o">=</span> <span class="n">context</span><span class="p">.</span><span class="n">watch</span><span class="o">&lt;</span><span class="n">BookListProvider</span><span class="o">&gt;</span><span class="p">().</span><span class="n">isReading</span><span class="p">;</span>
</span><span class="hll">
</span><span class="hll">    <span class="k">return</span> <span class="n">isReading</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">isReading</span>
</span><span class="hll">        <span class="o">?</span> <span class="n">Column</span><span class="p">(</span>
</span><span class="hll">            <span class="nl">mainAxisAlignment:</span> <span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
</span><span class="hll">            <span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;</span><span class="p">[</span>
</span><span class="hll">              <span class="n">CircularProgressIndicator</span><span class="p">(),</span>
</span><span class="hll">            <span class="p">],</span>
</span><span class="hll">          <span class="p">)</span>
</span><span class="hll">        <span class="o">:</span> <span class="n">GridView</span><span class="p">.</span><span class="n">builder</span><span class="p">(</span>
</span>            <span class="nl">padding:</span> <span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">10</span><span class="p">),</span>
            <span class="nl">itemCount:</span> <span class="n">bookList</span><span class="p">.</span><span class="n">length</span><span class="p">,</span>
            <span class="nl">itemBuilder:</span> <span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">BookListItem</span><span class="p">(</span>
              <span class="nl">id:</span> <span class="n">bookList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">id</span><span class="p">,</span>
              <span class="nl">apiHost:</span> <span class="n">apiHost</span><span class="p">,</span>
              <span class="nl">imagePath:</span> <span class="n">bookList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">imagePath</span><span class="p">,</span>
              <span class="nl">title:</span> <span class="n">bookList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">title</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="nl">gridDelegate:</span> <span class="n">SliverGridDelegateWithFixedCrossAxisCount</span><span class="p">(</span>
              <span class="nl">crossAxisCount:</span> <span class="m">2</span><span class="p">,</span>
              <span class="nl">childAspectRatio:</span> <span class="m">8</span> <span class="o">/</span> <span class="m">7</span><span class="p">,</span>
              <span class="nl">crossAxisSpacing:</span> <span class="m">10</span><span class="p">,</span>
              <span class="nl">mainAxisSpacing:</span> <span class="m">10</span><span class="p">,</span>
            <span class="p">),</span>
          <span class="p">);</span>
</code></pre></div>
</td></tr></table>
<p>Simpan dan jalankan dengan tombol restart <img alt="restart" src="../../assets/images/icons/restart.png" style="height:25px; width:auto;" />. Seharusnya kita melihat tampilan "loading indicator" seperti dibawah ini:</p>
<p><img alt="loading indicator" src="../../assets/images/crud/crud-1.7.png" style="width: 250px; height: auto;" /></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../create/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Sebelumnya
                </span>
                (C)reate
              </div>
            </div>
          </a>
        
        
          <a href="../create-then-read/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Selanjutnya
                </span>
                (C)eate kemudian (R)ead
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 www.biqdev.com;
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.fd16492e.min.js"></script>
      <script src="../../assets/javascripts/bundle.7836ba4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Salin ke memori", "clipboard.copied": "Tersalin ke memori", "search.config.lang": "en", "search.config.pipeline": " ", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Cari", "search.result.placeholder": "Ketik untuk mulai pencarian", "search.result.none": "Tidak ada dokumen yang sesuai", "search.result.one": "1 dokumen ditemukan", "search.result.other": "# dokumen ditemukan", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>